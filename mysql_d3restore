#!/bin/bash

# ==========================
# Import functions
source `which mysql_d3_librc`

avaliable_commands_list='help data schema solid all'
function usage {
    echo ''
    echo 'Modify data in database'
    echo 'Import data from database__table--type.sql file , wo output'
    echo ''
    echo usage:
    echo '    '$cmd help;
    echo '    '$cmd all\|solid DATABASE;
    echo '    '$cmd data\|schema DATABASE [TABLE];
    echo example:
    echo '    '$cmd data mysql Users
    echo '    '$cmd schema mysql Users
    echo '    '$cmd all wpb
    echo
}

checkout_command $@

if test $1 == 'help'; then
    usage;
    exit;
fi

if test $1 == 'solid'; then
    checkout_database $@
    echo 'mysql_d3restore >> solid'
    exit;
fi

if test $1 == 'all'; then
    checkout_database $@
    echo 'mysql_d3restore >> all'
    exit;
fi

if test $1 == 'data'; then
    checkout_database $@
    checkout_table $@
    echo 'mysql_d3restore >> data'
    exit;
fi

if test $1 == 'schema'; then
    checkout_database $@
    checkout_table $@
    echo 'mysql_d3restore >> schema'
    exit;
fi

if test $1 == 'truncate'; then
    checkout_database $@
    checkout_table $@
    echo 'mysql_d3restore >> truncate'
    exit;
fi

not_recognized $1
